<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="./images/favicon-32x32.png"
		/>
		<link rel="stylesheet" href="style.css" />
		<title>Frontend Mentor | Base Apparel coming soon page</title>
	</head>
	<body>
		<header class="header">
			<img src="images/logo.svg" alt="Base Apparel" />
		</header>
		<main class="main">
			<section class="section">
				<div class="container-box-text">
					<div class="box-text">
						<div class="container">
							<h1 class="title"><span> We're</span> coming soon</h1>
							<p class="text">
								Hello fellow shoppers! We're currently building our new fashion
								store. Add your email below to stay up-to-date with
								announcements and our launch deals.
							</p>
							<form action="#" class="form">
								<label for="email" class="email-label"> Email Address</label>
								<input type="email" id="email" class="email" />
								<img src="images/icon-error.svg" alt="Error" class="error" />
								<button class="submit">
									<img src="images/icon-arrow.svg" alt="Sign in" />
								</button>
								<p class="msg-error">Please provide a valid email</p>
							</form>
						</div>
					</div>
				</div>
				<div class="box-img" role="img"></div>
			</section>
		</main>
		<script>
			const inputEmail = document.querySelector('.email');
			const labelEmail = document.querySelector('.email-label');
			const form = document.querySelector('.form');
			const submit = document.querySelector('.submit');
			const regex =
				/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			const LABEL_EMAIL = labelEmail.classList;
			const labelFocus = 'email-label--focus';
			const formFocus = () => LABEL_EMAIL.add(labelFocus);
			//prettier-ignore
			const formBlur = () => !inputEmail.value && LABEL_EMAIL.remove(labelFocus);
			const validateEmail = value => !regex.test(value);

			inputEmail.addEventListener('focus', formFocus);

			inputEmail.addEventListener('blur', formBlur);

			submit.addEventListener('click', e => {
				e.preventDefault();
				validateEmail(inputEmail.value)
					? form.classList.add('trash')
					: form.classList.remove('trash');
			});
		</script>
	</body>
</html>
